language: rust
os:
    - linux
    - osx
env:
    global:
        - secure: TNmQ5aO0JkZAqK0nMfOoTbtNaMzGMbVNPloT4JD/qn2c0GKjRitDBI/LZck+w7y/ezpSc2Gtu93evvUlN5XakrJoqoWqX4xGWjHHP+SyRMTffCQ8SNZQr62bJOOrzM2osQBP9RlcudfHkcjPDfBn3E/s0cr14/yL1IaLiPCw1WE=
before_script:
    - rustc -v
    - cargo -V
script:
    - cargo build -v
    - cargo test -v
    - cargo doc -v
after_success:
    - cp -R target/doc doc
    - curl http://www.rust-ci.org/artifacts/put?t=$RUSTCI_TOKEN | sh
    - rm -r doc
